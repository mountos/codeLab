---
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const allCategories = posts.flatMap(post => post.data.categories);
const uniqueCategories = [...new Set(allCategories)];

const today = new Date();
---
<footer>
  <div class="footer-container">
    <div class="footer-main">
      <div class="footer-intro">
        <h3>Your Website</h3>
        <p>Write a brief introduction to your website here. This helps visitors quickly understand your site's theme.</p>
      </div>
      <div class="footer-menus">
        <div class="footer-menu">
          <h4>Categories</h4>
          <ul>
            {uniqueCategories.slice(0, 5).map(category => (
              <li><a href={`/categories/${category}`}>{category}</a></li>
            ))}
            {uniqueCategories.length > 5 && <li><a href="/categories">...More</a></li>}
          </ul>
        </div>
        <div class="footer-menu">
          <h4>Site Information</h4>
          <ul>
            <li><a href="/about">About Us</a></li>
            <li><a href="/contact">Contact Us</a></li>
            <li><a href="/privacy">Privacy Policy</a></li>
            <li><a href="/search">Site Search</a></li>
          </ul>
        </div>
        <div class="footer-menu">
          <h4>Support Us</h4>
          <ul>
            <li><a href="https://mounx.com/s/buyMacoffee" rel="nofollow noopener noreferrer" target="_blank">❤️ Donate</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p class="copyright">&copy; {today.getFullYear()} Your Site Name. Powered by <a href="https://mountos.com/" target="_blank">Mountos</a>.</p>
      <div class="footer-socials">
        <a href="#" class="social-link" aria-label="Facebook" rel="nofollow noopener noreferrer" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0 0 3.504 0 8.049c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05h2.03v-2.072c0-2.008 1.192-3.1 3.022-3.1.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"/>
          </svg>
        </a>
        <a href="#" class="social-link" aria-label="X" rel="nofollow noopener noreferrer" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-1.148 12.877h1.68l-6.57-8.875h-1.68l6.57 8.875Z"/>
          </svg>
        </a>
        <a href="#" class="social-link" aria-label="TikTok" rel="nofollow noopener noreferrer" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3z"/>
          </svg>
        </a>
        <a href="#" class="social-link" aria-label="YouTube" rel="nofollow noopener noreferrer" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8.051 1.999h.084c.822.006 4.337.017 5.797.048 2.19.074 3.48 1.625 3.48 3.554 0 2.848-.062 4.09-.062 4.09s-.063 1.242-.063 4.09c0 1.929-1.29 3.48-3.48 3.554-1.46.03-4.976.048-5.797.048h-.084c-.822-.006-4.337-.017-5.797-.048-2.19-.074-3.48-1.625-3.48-3.554 0-2.848.062-4.09.062-4.09s.063-1.242.063-4.09c0-1.929 1.29-3.48 3.48-3.554 1.46-.03 4.976.048 5.797.048zM6.425 12.28l5.71-3.28-5.71-3.28v6.56z"/>
          </svg>
        </a>
        <a href="mailto:info@example.com" class="social-link" aria-label="Email" rel="nofollow noopener noreferrer" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>